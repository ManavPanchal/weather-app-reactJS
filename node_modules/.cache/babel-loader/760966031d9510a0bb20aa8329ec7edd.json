{"ast":null,"code":"import _asyncToGenerator from\"/Users/manavpanchal/Downloads/codes/reactJs/weather_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/manavpanchal/Downloads/codes/reactJs/weather_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/manavpanchal/Downloads/codes/reactJs/weather_app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import\"./sass/main.css\";import WeatherForecast from\"./WeatherForecast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WeatherData=function WeatherData(props){var _useState=useState(props.city),_useState2=_slicedToArray(_useState,2),searchedCity=_useState2[0],setSearchedCity=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),crntCityLat=_useState4[0],setCrntCityLat=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),crntCityLon=_useState6[0],setCrntCityLon=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),temprature=_useState8[0],setTemprature=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),foreCastData=_useState10[0],setForeCastData=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),weather=_useState12[0],setWeather=_useState12[1];// const weath_map = () =>{\n//     console.log(weather);\n//     document.body.style.backgroundImage = \"url('/public/image/foggy_d.jpeg');\"\n// }\nuseEffect(function(){var callApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(props.city,\"&units=metric&appid=9e4cdd6c628c4cbdcacc25b6df594009\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;setSearchedCity(result.name);setTemprature(result.main);setCrntCityLat(result.coord.lat);setCrntCityLon(result.coord.lon);setWeather(result.weather[0].description);// Background(result.weather[0].description)\ncase 11:case\"end\":return _context.stop();}}},_callee);}));return function callApi(){return _ref.apply(this,arguments);};}();callApi();},[props]);useEffect(function(){var callForcastApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(crntCityLat,\"&lon=\").concat(crntCityLon,\"&units=metric&appid=9e4cdd6c628c4cbdcacc25b6df594009\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:result=_context2.sent;setForeCastData(result.hourly);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function callForcastApi(){return _ref2.apply(this,arguments);};}();callForcastApi();// weath_map();\n},[crntCityLat,crntCityLon]);return/*#__PURE__*/_jsxs(_Fragment,{children:[searchedCity&&/*#__PURE__*/_jsxs(\"div\",{className:\"citi_info_wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"crnt_city flex-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-location-dot\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",searchedCity,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"crnt_city_temp flex-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",parseInt(temprature.temp),\"\\xB0 \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"crnt_city_weather\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",weather,\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast_data flex\",children:[foreCastData!=null&&foreCastData.map(function(elem,index){return/*#__PURE__*/_jsx(WeatherForecast,{temp:elem.temp,count:index},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"forecast_footer\",children:\" *48 hours forecast \"})]})]}),!searchedCity&&/*#__PURE__*/_jsx(\"div\",{className:\"main_wrapper flex-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no_data\",children:\" No Data is Available For The City\"})})]});};export default WeatherData;","map":{"version":3,"sources":["/Users/manavpanchal/Downloads/codes/reactJs/weather_app/src/components/WeatherData.jsx"],"names":["React","useEffect","useState","WeatherForecast","WeatherData","props","city","searchedCity","setSearchedCity","crntCityLat","setCrntCityLat","crntCityLon","setCrntCityLon","temprature","setTemprature","foreCastData","setForeCastData","weather","setWeather","callApi","fetch","response","json","result","name","main","coord","lat","lon","description","callForcastApi","hourly","parseInt","temp","map","elem","index"],"mappings":"0aAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,6IAEA,GAAMC,CAAAA,WAAW,CAAI,QAAfA,CAAAA,WAAe,CAACC,KAAD,CACrB,CACI,cAAwCH,QAAQ,CAACG,KAAK,CAACC,IAAP,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eACA,eAAuCN,QAAQ,CAAC,CAAD,CAA/C,yCAAOO,WAAP,eAAqBC,cAArB,eACA,eAAuCR,QAAQ,CAAC,CAAD,CAA/C,yCAAOS,WAAP,eAAqBC,cAArB,eACA,eAAoCV,QAAQ,CAAC,EAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eACA,eAAwCZ,QAAQ,CAAC,EAAD,CAAhD,0CAAOa,YAAP,gBAAqBC,eAArB,gBACA,gBAA+Bd,QAAQ,EAAvC,2CAAOe,OAAP,gBAAiBC,UAAjB,gBAEA;AACA;AACA;AACA;AAEAjB,SAAS,CAAC,UAAI,CACV,GAAMkB,CAAAA,OAAO,0FAAG,6KACWC,CAAAA,KAAK,6DAAsDf,KAAK,CAACC,IAA5D,yDADhB,QACNe,QADM,qCAESA,CAAAA,QAAQ,CAACC,IAAT,EAFT,QAENC,MAFM,eAGZf,eAAe,CAACe,MAAM,CAACC,IAAR,CAAf,CACAV,aAAa,CAACS,MAAM,CAACE,IAAR,CAAb,CACAf,cAAc,CAACa,MAAM,CAACG,KAAP,CAAaC,GAAd,CAAd,CACAf,cAAc,CAACW,MAAM,CAACG,KAAP,CAAaE,GAAd,CAAd,CACAV,UAAU,CAACK,MAAM,CAACN,OAAP,CAAe,CAAf,EAAkBY,WAAnB,CAAV,CACA;AARY,uDAAH,kBAAPV,CAAAA,OAAO,0CAAb,CAUAA,OAAO,GACV,CAZQ,CAYP,CAACd,KAAD,CAZO,CAAT,CAeAJ,SAAS,CAAC,UAAI,CACV,GAAM6B,CAAAA,cAAc,2FAAG,mLACIV,CAAAA,KAAK,+DAAwDX,WAAxD,iBAA2EE,WAA3E,yDADT,QACbU,QADa,uCAEEA,CAAAA,QAAQ,CAACC,IAAT,EAFF,QAEbC,MAFa,gBAGnBP,eAAe,CAACO,MAAM,CAACQ,MAAR,CAAf,CAHmB,wDAAH,kBAAdD,CAAAA,cAAc,2CAApB,CAKAA,cAAc,GACd;AACH,CARQ,CAQP,CAACrB,WAAD,CAAaE,WAAb,CARO,CAAT,CAWA,mBACI,2BACMJ,YAAY,eAAK,aAAK,SAAS,CAAC,mBAAf,wBACf,aAAK,SAAS,CAAC,uBAAf,wBACQ,UAAG,SAAS,CAAC,0BAAb,EADR,cAEQ,0BAAMA,YAAN,OAFR,GADe,cAKf,YAAK,SAAS,CAAC,4BAAf,uBACI,yBAAKyB,QAAQ,CAACnB,UAAU,CAACoB,IAAZ,CAAb,WADJ,EALe,cAQf,YAAK,SAAS,CAAC,mBAAf,uBACI,yBAAKhB,OAAL,OADJ,EARe,cAWf,aAAK,SAAS,CAAC,oBAAf,WACKF,YAAY,EAAG,IAAf,EAAuBA,YAAY,CAACmB,GAAb,CAAiB,SAACC,IAAD,CAAOC,KAAP,CAAe,CACrD,mBAAO,KAAC,eAAD,EAA8B,IAAI,CAAID,IAAI,CAACF,IAA3C,CAAiD,KAAK,CAAEG,KAAxD,EAAuBA,KAAvB,CAAP,CACF,CAFuB,CAD5B,cAII,YAAK,SAAS,CAAC,iBAAf,kCAJJ,GAXe,GADvB,CAmBK,CAAC7B,YAAD,eACG,YAAK,SAAS,CAAC,0BAAf,uBACI,UAAG,SAAS,CAAC,SAAb,gDADJ,EApBR,GADJ,CA2BH,CAnED,CAqEA,cAAeH,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./sass/main.css\";\nimport WeatherForecast from \"./WeatherForecast\";\n\nconst WeatherData  = (props) =>\n{\n    const [searchedCity, setSearchedCity] = useState(props.city);\n    const [crntCityLat , setCrntCityLat] = useState(0);\n    const [crntCityLon , setCrntCityLon] = useState(0);\n    const [temprature, setTemprature] = useState([]);\n    const [foreCastData, setForeCastData] = useState([]);\n    const [weather , setWeather] = useState();\n\n    // const weath_map = () =>{\n    //     console.log(weather);\n    //     document.body.style.backgroundImage = \"url('/public/image/foggy_d.jpeg');\"\n    // }\n\n    useEffect(()=>{\n        const callApi = async ()=>{\n            const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${props.city}&units=metric&appid=9e4cdd6c628c4cbdcacc25b6df594009`);\n            const result = await response.json();\n            setSearchedCity(result.name);\n            setTemprature(result.main);\n            setCrntCityLat(result.coord.lat);\n            setCrntCityLon(result.coord.lon);\n            setWeather(result.weather[0].description);\n            // Background(result.weather[0].description)\n        }\n        callApi();\n    },[props]);\n\n\n    useEffect(()=>{\n        const callForcastApi = async () => {\n            const response = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${crntCityLat}&lon=${crntCityLon}&units=metric&appid=9e4cdd6c628c4cbdcacc25b6df594009`)\n            const result = await response.json();\n            setForeCastData(result.hourly);\n        }\n        callForcastApi();\n        // weath_map();\n    },[crntCityLat,crntCityLon]);\n\n\n    return(\n        <>\n            { searchedCity && (<div className=\"citi_info_wrapper\">\n                <div className=\"crnt_city flex-center\">\n                        <i className=\"fa-solid fa-location-dot\"></i>\n                        <h1> {searchedCity} </h1>\n                </div>\n                <div className=\"crnt_city_temp flex-center\">\n                    <p> {parseInt(temprature.temp)}Â° </p>\n                </div>\n                <div className=\"crnt_city_weather\">\n                    <p> {weather} </p>\n                </div>\n                <div className=\"forecast_data flex\">\n                    {foreCastData !=null && foreCastData.map((elem, index)=>{\n                       return <WeatherForecast  key={index} temp = {elem.temp} count={index}/>\n                    })}\n                    <div className=\"forecast_footer\"> *48 hours forecast </div>\n                </div>\n            </div>)}\n            {!searchedCity && (\n                <div className=\"main_wrapper flex-center\">\n                    <p className=\"no_data\"> No Data is Available For The City</p>\n                </div>\n            )}\n        </>\n    )\n}\n\nexport default WeatherData;"]},"metadata":{},"sourceType":"module"}